function getShortText(e,a){if(e){var t=e.split(" ");return t.length>a?t.slice(0,a).join(" ")+" ...":e}return""}function sortEventsByDate(e,a){return e.date<a.date?-1:e.date>a.date?1:0}function sortEventsByUpcoming(e,a){var t=new Date(todaysYear,todaysMonth-1,todaysDate);return Math.abs(e.date-t.getTime())<Math.abs(a.date-t.getTime())?-1:Math.abs(e.date-t.getTime())>Math.abs(a.date-t.getTime())?1:0}function getEventsByTime(e){for(var a=[],t=new Date(todaysYear,todaysMonth-1,todaysDate),n=0;n<tiva_events.length;n++)"upcoming"==e?tiva_events[n].date>=t.getTime()&&a.push(tiva_events[n]):tiva_events[n].date<t.getTime()&&a.push(tiva_events[n]);return a}function changedate(btn,layout){"prevyr"==btn?eval("yearNum_"+layout+"--;"):"nextyr"==btn?eval("yearNum_"+layout+"++;"):"prevmo"==btn?eval("monthNum_"+layout+"--;"):"nextmo"==btn?eval("monthNum_"+layout+"++;"):"current"==btn&&(eval("monthNum_"+layout+" = todaysMonth;"),eval("yearNum_"+layout+" = todaysYear;")),0==monthNum_full?(monthNum_full=12,yearNum_full--):13==monthNum_full&&(monthNum_full=1,yearNum_full++),0==monthNum_compact?(monthNum_compact=12,yearNum_compact--):13==monthNum_compact&&(monthNum_compact=1,yearNum_compact++),eval("firstDate = new Date(yearNum_"+layout+", monthNum_"+layout+" - 1, 1);"),firstDay="sunday"==date_start?firstDate.getDay()+1:firstDate.getDay(),eval("lastDate = new Date(yearNum_"+layout+", monthNum_"+layout+", 0);"),numbDays=lastDate.getDate(),eval("createCalendar(layout, firstDay, numbDays, monthNum_"+layout+", yearNum_"+layout+");")}function createCalendar(e,a,t,n,i){calendarString="",daycounter=0,calendarString+='<table class="calendar-table table table-bordered">',calendarString+="<tbody>",calendarString+="<tr>","full"==e?(calendarString+='<td class="calendar-btn"><span onClick="changedate(\'prevyr\', \'full\')">« <span class="btn-change-date">'+prev_year+"</span></span></td>",calendarString+='<td class="calendar-btn"><span onClick="changedate(\'prevmo\', \'full\')">« <span class="btn-change-date">'+prev_month+"</span></span></td>",calendarString+='<td class="calendar-title" colspan="3"><span><i class="fa fa-calendar-o"></i>'+wordMonth[n-1]+"&nbsp;&nbsp;"+i+"</span></td>",calendarString+='<td class="calendar-btn"><span onClick="changedate(\'nextmo\', \'full\')"><span class="btn-change-date">'+next_month+"</span> »</span></td>",calendarString+='<td class="calendar-btn"><span onClick="changedate(\'nextyr\', \'full\')"><span class="btn-change-date">'+next_year+"</span> »</span></td>"):(calendarString+="<td class=\"calendar-btn\"><span onClick=\"changedate('prevmo', 'compact')\">«</span></td>",calendarString+='<td class="calendar-title" colspan="5"><span>'+wordMonth[n-1]+"&nbsp;&nbsp;"+i+"</span></td>",calendarString+="<td class=\"calendar-btn\"><span onClick=\"changedate('nextmo', 'compact')\">»</span></td>"),calendarString+="</tr>",calendarString+='<tr class="active">';for(var s=0;s<wordDay.length;s++)calendarString+="<th>"+wordDay[s].substring(0,3)+"</th>";calendarString+="</tr>";for(var r=1;r<=6;r++)if(7*(r-1)+1<a+t){calendarString+="<tr>";for(var v=1;v<=7;v++)if(daycounter=thisDate-a+1,thisDate++,daycounter>t||daycounter<1)calendarString+='<td class="calendar-day-blank">&nbsp;</td>';else{if(daycounter_s="sunday"==date_start?1==v||7==v?'<span class="calendar-day-weekend">'+daycounter+"</span>":daycounter:6==v||7==v?'<span class="calendar-day-weekend">'+daycounter+"</span>":daycounter,calendarString+=todaysDate==daycounter&&todaysMonth==n&&todaysYear==i?'<td class="calendar-day-normal calendar-day-today">':'<td class="calendar-day-normal">',checkEvents(daycounter,n,i)){if(calendarString+="full"==e?'<div class="calendar-day-event">':'<div class="calendar-day-event" onmouseover="showTooltip(0, \'compact\', '+daycounter+", "+n+", "+i+", this)\" onmouseout=\"clearTooltip('compact', this)\" onclick=\"showEventDetail(0, 'compact', "+daycounter+", "+n+", "+i+')">',calendarString+=daycounter_s,"full"==e)for(var d=getEvents(daycounter,n,i),l=0;l<d.length;l++)if(void 0!==d[l]){var c=d[l].color?d[l].color:1,o="one-day";d[l].first_day&&!d[l].last_day?o="first-day":d[l].last_day&&!d[l].first_day?o="last-day":d[l].first_day||d[l].last_day||(o="middle-day"),calendarString+='<div class="calendar-event-name '+o+" color-"+c+'" id="'+d[l].id+'" onmouseover="showTooltip('+d[l].id+", 'full', "+daycounter+", "+n+", "+i+', this)" onmouseout="clearTooltip(\'full\', this)" onclick="showEventDetail('+d[l].id+", 'full', "+daycounter+", "+n+", "+i+')"><span class="event-name">'+getShortText(d[l].name,2)+"</span></div>"}else{var u;u=void 0!==d[l+1]&&void 0!==tiva_events[d[l+1].id-1]?getShortText(tiva_events[d[l+1].id-1].name,2):"no-name",calendarString+='<div class="calendar-event-name no-name">'+u+"</div>"}else{for(var d=getEvents(daycounter,n,i),y=[],l=0;l<d.length;l++)if(void 0!==d[l]){c=d[l].color?d[l].color:1;y.push("event_class_"+c)}classes_str=y.join(" "),calendarString+='<span class="calendar-event-mark '+classes_str+'"></span>'}calendarString+='<div class="tiva-event-tooltip"></div>',calendarString+="</div>"}else calendarString+=daycounter_s;calendarString+="</td>"}calendarString+="</tr>"}calendarString+="</tbody>",calendarString+="</table>","full"==e?jQuery(".tiva-calendar-full").html(calendarString):jQuery(".tiva-calendar-compact").html(calendarString),thisDate=1}function checkEvents(e,a,t){numevents=0;for(var n=new Date(t,Number(a)-1,e),i=0;i<tiva_events.length;i++){var s=new Date(tiva_events[i].year,Number(tiva_events[i].month)-1,tiva_events[i].day),r=new Date(tiva_events[i].year,Number(tiva_events[i].month)-1,Number(tiva_events[i].day)+Number(tiva_events[i].duration)-1);s.getTime()<=n.getTime()&&n.getTime()<=r.getTime()&&numevents++}return 0!=numevents}function getOrderNumber(e,a,t,n){for(var i=new Date(n,Number(t)-1,a),s=[],r=0;r<tiva_events.length;r++){var v=new Date(tiva_events[r].year,Number(tiva_events[r].month)-1,tiva_events[r].day),d=new Date(tiva_events[r].year,Number(tiva_events[r].month)-1,Number(tiva_events[r].day)+Number(tiva_events[r].duration)-1);if(v.getTime()<=i.getTime()&&i.getTime()<=d.getTime()){var l=v.getTime()==i.getTime(),c={id:tiva_events[r].id,name:tiva_events[r].name,day:tiva_events[r].day,month:tiva_events[r].month,year:tiva_events[r].year,first_day:l};s.push(c)}}if(s.length){if(s[0].id==e){var o=order_num;return order_num=0,o}order_num++;for(var u=0;u<s.length;u++)if(s[u].id==e)return getOrderNumber(s[u-1].id,s[u-1].day,s[u-1].month,s[u-1].year)}return 0}function getEvents(e,a,t){for(var n=0,i=new Date(t,Number(a)-1,e),s=[],r=0;r<tiva_events.length;r++){var v=new Date(tiva_events[r].year,Number(tiva_events[r].month)-1,tiva_events[r].day),d=new Date(tiva_events[r].year,Number(tiva_events[r].month)-1,Number(tiva_events[r].day)+Number(tiva_events[r].duration)-1);if(v.getTime()<=i.getTime()&&i.getTime()<=d.getTime()){var l=v.getTime()==i.getTime(),c=d.getTime()==i.getTime(),o={id:tiva_events[r].id,name:tiva_events[r].name,first_day:l,last_day:c,color:tiva_events[r].color};l||(n=getOrderNumber(tiva_events[r].id,tiva_events[r].day,tiva_events[r].month,tiva_events[r].year)),s[n]=o,n++}}return s}function showTooltip(e,a,t,n,i,s){if("full"==a){if(tiva_events[e].image)c='<img src="'+tiva_events[e].image+'" alt="'+tiva_events[e].name+'" />';else c="";if(tiva_events[e].time)o='<div class="event-time">'+tiva_events[e].time+"</div>";else o="";var r=jQuery(s).parent().find(".calendar-event-name").index(s),v=32+25*(jQuery(s).parent().find(".calendar-event-name").length-r-1);jQuery(s).parent().find(".tiva-event-tooltip").css("bottom",v+"px"),jQuery(s).parent().find(".tiva-event-tooltip").html('<div class="event-tooltip-item">'+o+'<div class="event-name">'+tiva_events[e].name+'</div><div class="event-image">'+c+'</div><div class="event-intro">'+getShortText(tiva_events[e].description,10)+"</div></div>"),jQuery(s).parent().find(".tiva-event-tooltip").css("opacity","1"),jQuery(s).parent().find(".tiva-event-tooltip").css("-webkit-transform","translate3d(0,0,0) rotate3d(0,0,0,0)"),jQuery(s).parent().find(".tiva-event-tooltip").css("transform","translate3d(0,0,0) rotate3d(0,0,0,0)")}else{jQuery(s).find(".tiva-event-tooltip").html("");for(var d=getEvents(t,n,i),l=0;l<d.length;l++)if(void 0!==d[l]){if(tiva_events[d[l].id].image)c='<img src="'+tiva_events[d[l].id].image+'" alt="'+tiva_events[d[l].id].name+'" />';else var c="";if(tiva_events[d[l].id].time)o='<div class="event-time">'+tiva_events[d[l].id].time+"</div>";else var o="";jQuery(s).find(".tiva-event-tooltip").append('<div class="event-tooltip-item">'+o+'<div class="event-name">'+tiva_events[d[l].id].name+'</div><div class="event-image">'+c+'</div><div class="event-intro">'+getShortText(tiva_events[d[l].id].description,10)+"</div></div>")}jQuery(s).find(".tiva-event-tooltip").css("opacity","1"),jQuery(s).find(".tiva-event-tooltip").css("-webkit-transform","translate3d(0,0,0) rotate3d(0,0,0,0)"),jQuery(s).find(".tiva-event-tooltip").css("transform","translate3d(0,0,0) rotate3d(0,0,0,0)")}}function clearTooltip(e,a){"full"==e?(jQuery(a).parent().find(".tiva-event-tooltip").css("opacity","0"),jQuery(a).parent().find(".tiva-event-tooltip").css("-webkit-transform","translate3d(0,-10px,0)"),jQuery(a).parent().find(".tiva-event-tooltip").css("transform","translate3d(0,-10px,0)")):(jQuery(a).find(".tiva-event-tooltip").css("opacity","0"),jQuery(a).find(".tiva-event-tooltip").css("-webkit-transform","translate3d(0,-10px,0)"),jQuery(a).find(".tiva-event-tooltip").css("transform","translate3d(0,-10px,0)"))}function showEventList(e,a){var t=getEventsByTime("upcoming");t.sort(sortEventsByUpcoming);var n=getEventsByTime("past");n.sort(sortEventsByUpcoming);var i=t.concat(n);if(i=i.slice(0,a),"full"==e){jQuery(".tiva-event-list-full").html("");for(v=0;v<i.length;v++){d=new Date(i[v].year,Number(i[v].month)-1,i[v].day);if("sunday"==date_start)l=wordDay[d.getDay()];else if(d.getDay()>0)l=wordDay[d.getDay()-1];else l=wordDay[6];var s=wordMonth[Number(i[v].month)-1]+" "+i[v].day+", "+i[v].year,r="";if(i[v].duration>1){c=new Date(i[v].year,Number(i[v].month)-1,Number(i[v].day)+Number(i[v].duration)-1);if("sunday"==date_start)o=wordDay[c.getDay()];else if(c.getDay()>0)o=wordDay[c.getDay()-1];else o=wordDay[6];r=" - "+o+", "+(u=wordMonth[Number(c.getMonth())]+" "+c.getDate()+", "+c.getFullYear())}if(i[v].time)y='<i class="fa fa-clock-o"></i>'+i[v].time;else y="";if(i[v].image)m='<img src="'+i[v].image+'" alt="'+i[v].name+'" />';else m="";jQuery(".tiva-event-list-full").append('<div class="event-item"><div class="event-item-left pull-left"><div class="event-image link" onclick="showEventDetail('+i[v].id+", 'full', 0, 0, 0)\">"+m+'</div></div><div class="event-item-right pull-left"><div class="event-name link" onclick="showEventDetail('+i[v].id+", 'full', 0, 0, 0)\">"+i[v].name+'</div><div class="event-date"><i class="fa fa-calendar-o"></i>'+l+", "+s+r+'</div><div class="event-time">'+y+'</div><div class="event-intro">'+getShortText(i[v].description,25)+'</div></div></div><div class="cleardiv"></div>')}}else{jQuery(".tiva-event-list-compact").html("");for(var v=0;v<i.length;v++){var d=new Date(i[v].year,Number(i[v].month)-1,i[v].day);if("sunday"==date_start)l=wordDay[d.getDay()];else if(d.getDay()>0)l=wordDay[d.getDay()-1];else var l=wordDay[6];var s=wordMonth[Number(i[v].month)-1]+" "+i[v].day+", "+i[v].year,r="";if(i[v].duration>1){var c=new Date(i[v].year,Number(i[v].month)-1,Number(i[v].day)+Number(i[v].duration)-1);if("sunday"==date_start)o=wordDay[c.getDay()];else if(c.getDay()>0)o=wordDay[c.getDay()-1];else var o=wordDay[6];var u=wordMonth[Number(c.getMonth())]+" "+c.getDate()+", "+c.getFullYear();r=" - "+o+", "+u}if(i[v].time)y='<i class="fa fa-clock-o"></i>'+i[v].time;else var y="";if(i[v].image)m='<img src="'+i[v].image+'" alt="'+i[v].name+'" />';else var m="";jQuery(".tiva-event-list-compact").append('<div class="event-item"><div class="event-image link" onclick="showEventDetail('+i[v].id+", 'compact', 0, 0, 0)\">"+m+'</div><div class="event-name link" onclick="showEventDetail('+i[v].id+", 'compact', 0, 0, 0)\">"+i[v].name+'</div><div class="event-date"><i class="fa fa-calendar-o"></i>'+l+", "+s+r+'</div><div class="event-time">'+y+'</div><div class="event-intro">'+getShortText(i[v].description,15)+'</div></div><div class="cleardiv"></div>')}}}function showEventDetail(e,a,t,n,i){if(jQuery(".tiva-events-calendar."+a+" .back-calendar").show(),jQuery(".tiva-events-calendar."+a+" .tiva-calendar").hide(),jQuery(".tiva-events-calendar."+a+" .tiva-event-list").hide(),jQuery(".tiva-events-calendar."+a+" .tiva-event-detail").fadeIn(1500),jQuery(".tiva-events-calendar."+a+" .list-view").removeClass("active"),jQuery(".tiva-events-calendar."+a+" .calendar-view").removeClass("active"),"full"==a){t=new Date(tiva_events[e].year,Number(tiva_events[e].month)-1,tiva_events[e].day);if("sunday"==date_start)l=wordDay[t.getDay()];else if(t.getDay()>0)l=wordDay[t.getDay()-1];else l=wordDay[6];var s=wordMonth[Number(tiva_events[e].month)-1]+" "+tiva_events[e].day+", "+tiva_events[e].year,r="";if(tiva_events[e].duration>1){c=new Date(tiva_events[e].year,Number(tiva_events[e].month)-1,Number(tiva_events[e].day)+Number(tiva_events[e].duration)-1);if("sunday"==date_start)o=wordDay[c.getDay()];else if(c.getDay()>0)o=wordDay[c.getDay()-1];else o=wordDay[6];r=" - "+o+", "+(u=wordMonth[Number(c.getMonth())]+" "+c.getDate()+", "+c.getFullYear())}if(tiva_events[e].time)y='<i class="fa fa-clock-o"></i>'+tiva_events[e].time;else y="";if(tiva_events[e].image)m='<img src="'+tiva_events[e].image+'" alt="'+tiva_events[e].name+'" />';else m="";if(tiva_events[e].location)f='<i class="fa fa-map-marker"></i>'+tiva_events[e].location;else f="";if(tiva_events[e].description)h='<div class="event-desc">'+tiva_events[e].description+"</div>";else h="";jQuery(".tiva-event-detail-full").html('<div class="event-item"><div class="event-image">'+m+'</div><div class="event-name">'+tiva_events[e].name+'</div><div class="event-date"><i class="fa fa-calendar-o"></i>'+l+", "+s+r+'</div><div class="event-time">'+y+'</div><div class="event-location">'+f+"</div>"+h+"</div>")}else{if(jQuery(".tiva-event-detail-compact").html(""),t&&n&&i)v=getEvents(t,n,i);else var v=[{id:e}];for(var d=0;d<v.length;d++)if(void 0!==v[d]){var t=new Date(tiva_events[v[d].id].year,Number(tiva_events[v[d].id].month)-1,tiva_events[v[d].id].day);if("sunday"==date_start)l=wordDay[t.getDay()];else if(t.getDay()>0)l=wordDay[t.getDay()-1];else var l=wordDay[6];var s=wordMonth[Number(tiva_events[v[d].id].month)-1]+" "+tiva_events[v[d].id].day+", "+tiva_events[v[d].id].year,r="";if(tiva_events[v[d].id].duration>1){var c=new Date(tiva_events[v[d].id].year,Number(tiva_events[v[d].id].month)-1,Number(tiva_events[v[d].id].day)+Number(tiva_events[v[d].id].duration)-1);if("sunday"==date_start)o=wordDay[c.getDay()];else if(c.getDay()>0)o=wordDay[c.getDay()-1];else var o=wordDay[6];var u=wordMonth[Number(c.getMonth())]+" "+c.getDate()+", "+c.getFullYear();r=" - "+o+", "+u}if(tiva_events[v[d].id].time)y='<i class="fa fa-clock-o"></i>'+tiva_events[v[d].id].time;else var y="";if(tiva_events[v[d].id].image)m='<img src="'+tiva_events[v[d].id].image+'" alt="'+tiva_events[v[d].id].name+'" />';else var m="";if(tiva_events[v[d].id].location)f='<i class="fa fa-map-marker"></i>'+tiva_events[v[d].id].location;else var f="";if(tiva_events[v[d].id].description)h='<div class="event-desc">'+tiva_events[v[d].id].description+"</div>";else var h="";jQuery(".tiva-event-detail-compact").append('<div class="event-item"><div class="event-image">'+m+'</div><div class="event-name">'+tiva_events[v[d].id].name+'</div><div class="event-date"><i class="fa fa-calendar-o"></i>'+l+", "+s+r+'</div><div class="event-time">'+y+'</div><div class="event-location">'+f+"</div>"+h+"</div>")}}}var thisDate=1,today=new Date,todaysDay=today.getDay()+1,todaysDate=today.getDate(),todaysMonth=today.getMonth()+1,todaysYear=today.getFullYear(),firstDate,firstDay,lastDate,numbDays,numevents=0,daycounter=0,calendarString="",monthNum_full=todaysMonth,yearNum_full=todaysYear,monthNum_compact=todaysMonth,yearNum_compact=todaysYear,tiva_events=[],order_num=0,wordDay,date_start;jQuery(document).ready(function(){"undefined"!=typeof events_json&&(jQuery(".tiva-events-calendar.full").length&&jQuery(".tiva-events-calendar.full").html('<div class="events-calendar-bar"><span class="bar-btn calendar-view active"><i class="fa fa-calendar-o"></i>'+calendar_view+'</span><span class="bar-btn list-view"><i class="fa fa-list"></i>'+list_view+'</span><span class="bar-btn back-calendar pull-right active"><i class="fa fa-caret-left"></i>'+back+'</span></div><div class="cleardiv"></div><div class="tiva-events-calendar-wrap"><div class="tiva-calendar-full tiva-calendar"></div><div class="tiva-event-list-full tiva-event-list"></div><div class="tiva-event-detail-full tiva-event-detail"></div></div>'),jQuery(".tiva-events-calendar.compact").length&&jQuery(".tiva-events-calendar.compact").html('<div class="events-calendar-bar"><span class="bar-btn calendar-view active"><i class="fa fa-calendar-o"></i>'+calendar_view+'</span><span class="bar-btn list-view"><i class="fa fa-list"></i>'+list_view+'</span><span class="bar-btn back-calendar pull-right active"><i class="fa fa-caret-left"></i>'+back+'</span></div><div class="cleardiv"></div><div class="tiva-events-calendar-wrap"><div class="tiva-calendar-compact tiva-calendar"></div><div class="tiva-event-list-compact tiva-event-list"></div><div class="tiva-event-detail-compact tiva-event-detail"></div></div>'),jQuery(".tiva-events-calendar .back-calendar").hide(),jQuery(".tiva-event-list").hide(),jQuery(".tiva-event-detail").hide(),jQuery(".tiva-events-calendar").each(function(e){"hide"==(void 0!==jQuery(this).attr("data-switch")?jQuery(this).attr("data-switch"):"show")&&(jQuery(this).find(".calendar-view").hide(),jQuery(this).find(".list-view").hide(),jQuery(this).find(".events-calendar-bar").css("position","relative"),jQuery(this).find(".back-calendar").css({position:"absolute","margin-top":"15px",right:"15px"}),jQuery(this).find(".tiva-event-detail").css("padding-top","60px"))}),date_start=void 0!==jQuery(".tiva-events-calendar").attr("data-start")?jQuery(".tiva-events-calendar").attr("data-start"):"sunday",wordDay="sunday"==date_start?new Array(wordDay_sun,wordDay_mon,wordDay_tue,wordDay_wed,wordDay_thu,wordDay_fri,wordDay_sat):new Array(wordDay_mon,wordDay_tue,wordDay_wed,wordDay_thu,wordDay_fri,wordDay_sat,wordDay_sun),"json"==(void 0!==jQuery(".tiva-events-calendar").attr("data-source")?jQuery(".tiva-events-calendar").attr("data-source"):"json")?jQuery.getJSON(events_json,function(e){for(var a=0;a<e.items.length;a++){var t=new Date(e.items[a].year,Number(e.items[a].month)-1,e.items[a].day);e.items[a].date=t.getTime(),tiva_events.push(e.items[a])}tiva_events.sort(sortEventsByDate);for(var n=0;n<tiva_events.length;n++)tiva_events[n].id=n,tiva_events[n].duration||(tiva_events[n].duration=1);changedate("current","full"),changedate("current","compact"),jQuery(".tiva-events-calendar").each(function(e){"list"==(void 0!==jQuery(this).attr("data-view")?jQuery(this).attr("data-view"):"calendar")&&jQuery(this).find(".list-view").click()})}):jQuery.ajax({url:events_php,dataType:"json",data:"",beforeSend:function(){jQuery(".tiva-calendar").html('<div class="loading"><img src="assets/images/loading.gif" /></div>')},success:function(e){for(var a=0;a<e.length;a++){var t=new Date(e[a].year,Number(e[a].month)-1,e[a].day);e[a].date=t.getTime(),tiva_events.push(e[a])}tiva_events.sort(sortEventsByDate);for(var n=0;n<tiva_events.length;n++)tiva_events[n].id=n,tiva_events[n].duration||(tiva_events[n].duration=1);changedate("current","full"),changedate("current","compact"),jQuery(".tiva-events-calendar").each(function(e){"list"==(void 0!==jQuery(this).attr("data-view")?jQuery(this).attr("data-view"):"calendar")&&jQuery(this).find(".list-view").click()})}}),jQuery(".tiva-events-calendar .calendar-view").click(function(){jQuery(this).parents(".tiva-events-calendar").find(".back-calendar").hide(),jQuery(this).parents(".tiva-events-calendar").find(".tiva-event-list").hide(),jQuery(this).parents(".tiva-events-calendar").find(".tiva-event-detail").hide(),jQuery(this).parents(".tiva-events-calendar").find(".tiva-calendar").fadeIn(1500),jQuery(this).parents(".tiva-events-calendar").find(".list-view").removeClass("active"),jQuery(this).parents(".tiva-events-calendar").find(".calendar-view").addClass("active")}),jQuery(".tiva-events-calendar .list-view").click(function(){jQuery(this).parents(".tiva-events-calendar").find(".back-calendar").hide(),jQuery(this).parents(".tiva-events-calendar").find(".tiva-calendar").hide(),jQuery(this).parents(".tiva-events-calendar").find(".tiva-event-detail").hide(),jQuery(this).parents(".tiva-events-calendar").find(".tiva-event-list").fadeIn(1500),jQuery(this).parents(".tiva-events-calendar").find(".calendar-view").removeClass("active"),jQuery(this).parents(".tiva-events-calendar").find(".list-view").addClass("active");var e=jQuery(this).parents(".tiva-events-calendar").attr("class")?jQuery(this).parents(".tiva-events-calendar").attr("class"):"full",a=jQuery(this).parents(".tiva-events-calendar").attr("data-events")?jQuery(this).parents(".tiva-events-calendar").attr("data-events"):1e3;-1!=e.indexOf("full")?showEventList("full",a):showEventList("compact",a)}),jQuery(".tiva-events-calendar .back-calendar").click(function(){jQuery(this).parents(".tiva-events-calendar").find(".back-calendar").hide(),jQuery(this).parents(".tiva-events-calendar").find(".tiva-event-detail").hide(),"calendar"==(void 0!==jQuery(this).parents(".tiva-events-calendar").attr("data-view")?jQuery(this).parents(".tiva-events-calendar").attr("data-view"):"calendar")?(jQuery(this).parents(".tiva-events-calendar").find(".tiva-calendar").fadeIn(1500),jQuery(this).parents(".tiva-events-calendar").find(".list-view").removeClass("active"),jQuery(this).parents(".tiva-events-calendar").find(".calendar-view").addClass("active")):(jQuery(this).parents(".tiva-events-calendar").find(".tiva-event-list").fadeIn(1500),jQuery(this).parents(".tiva-events-calendar").find(".calendar-view").removeClass("active"),jQuery(this).parents(".tiva-events-calendar").find(".list-view").addClass("active"))}))});